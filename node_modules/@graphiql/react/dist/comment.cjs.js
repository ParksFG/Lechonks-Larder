"use strict";var F=Object.defineProperty;var j=(y,I)=>F(y,"name",{value:I,configurable:!0});var G=require("./codemirror.cjs.js");function H(y,I){return I.forEach(function(s){s&&typeof s!="string"&&!Array.isArray(s)&&Object.keys(s).forEach(function(o){if(o!=="default"&&!(o in y)){var d=Object.getOwnPropertyDescriptor(s,o);Object.defineProperty(y,o,d.get?d:{enumerable:!0,get:function(){return s[o]}})}})}),Object.freeze(Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}))}j(H,"_mergeNamespaces");var B={exports:{}};(function(y,I){(function(s){s(G.codemirror$1.exports)})(function(s){var o={},d=/[^\s\u00a0]/,m=s.Pos,D=s.cmpPos;function N(t){var l=t.search(d);return l==-1?0:l}j(N,"firstNonWS"),s.commands.toggleComment=function(t){t.toggleComment()},s.defineExtension("toggleComment",function(t){t||(t=o);for(var l=this,n=1/0,e=this.listSelections(),g=null,c=e.length-1;c>=0;c--){var r=e[c].from(),a=e[c].to();r.line>=n||(a.line>=n&&(a=m(n,0)),n=r.line,g==null?l.uncomment(r,a,t)?g="un":(l.lineComment(r,a,t),g="line"):g=="un"?l.uncomment(r,a,t):l.lineComment(r,a,t))}});function w(t,l,n){return/\bstring\b/.test(t.getTokenTypeAt(m(l.line,0)))&&!/^[\'\"\`]/.test(n)}j(w,"probablyInsideString");function P(t,l){var n=t.getMode();return n.useInnerComments===!1||!n.innerMode?n:t.getModeAt(l)}j(P,"getMode"),s.defineExtension("lineComment",function(t,l,n){n||(n=o);var e=this,g=P(e,t),c=e.getLine(t.line);if(!(c==null||w(e,t,c))){var r=n.lineComment||g.lineComment;if(!r){(n.blockCommentStart||g.blockCommentStart)&&(n.fullLines=!0,e.blockComment(t,l,n));return}var a=Math.min(l.ch!=0||l.line==t.line?l.line+1:l.line,e.lastLine()+1),C=n.padding==null?" ":n.padding,f=n.commentBlankLines||t.line==l.line;e.operation(function(){if(n.indent){for(var v=null,i=t.line;i<a;++i){var u=e.getLine(i),h=u.slice(0,N(u));(v==null||v.length>h.length)&&(v=h)}for(var i=t.line;i<a;++i){var u=e.getLine(i),b=v.length;!f&&!d.test(u)||(u.slice(0,b)!=v&&(b=N(u)),e.replaceRange(v+r+C,m(i,0),m(i,b)))}}else for(var i=t.line;i<a;++i)(f||d.test(e.getLine(i)))&&e.replaceRange(r+C,m(i,0))})}}),s.defineExtension("blockComment",function(t,l,n){n||(n=o);var e=this,g=P(e,t),c=n.blockCommentStart||g.blockCommentStart,r=n.blockCommentEnd||g.blockCommentEnd;if(!c||!r){(n.lineComment||g.lineComment)&&n.fullLines!=!1&&e.lineComment(t,l,n);return}if(!/\bcomment\b/.test(e.getTokenTypeAt(m(t.line,0)))){var a=Math.min(l.line,e.lastLine());a!=t.line&&l.ch==0&&d.test(e.getLine(a))&&--a;var C=n.padding==null?" ":n.padding;t.line>a||e.operation(function(){if(n.fullLines!=!1){var f=d.test(e.getLine(a));e.replaceRange(C+r,m(a)),e.replaceRange(c+C,m(t.line,0));var v=n.blockCommentLead||g.blockCommentLead;if(v!=null)for(var i=t.line+1;i<=a;++i)(i!=a||f)&&e.replaceRange(v+C,m(i,0))}else{var u=D(e.getCursor("to"),l)==0,h=!e.somethingSelected();e.replaceRange(r,l),u&&e.setSelection(h?l:e.getCursor("from"),l),e.replaceRange(c,t)}})}}),s.defineExtension("uncomment",function(t,l,n){n||(n=o);var e=this,g=P(e,t),c=Math.min(l.ch!=0||l.line==t.line?l.line:l.line-1,e.lastLine()),r=Math.min(t.line,c),a=n.lineComment||g.lineComment,C=[],f=n.padding==null?" ":n.padding,v;e:{if(!a)break e;for(var i=r;i<=c;++i){var u=e.getLine(i),h=u.indexOf(a);if(h>-1&&!/comment/.test(e.getTokenTypeAt(m(i,h+1)))&&(h=-1),h==-1&&d.test(u)||h>-1&&d.test(u.slice(0,h)))break e;C.push(u)}if(e.operation(function(){for(var L=r;L<=c;++L){var x=C[L-r],O=x.indexOf(a),k=O+a.length;O<0||(x.slice(k,k+f.length)==f&&(k+=f.length),v=!0,e.replaceRange("",m(L,O),m(L,k)))}}),v)return!0}var b=n.blockCommentStart||g.blockCommentStart,S=n.blockCommentEnd||g.blockCommentEnd;if(!b||!S)return!1;var $=n.blockCommentLead||g.blockCommentLead,E=e.getLine(r),A=E.indexOf(b);if(A==-1)return!1;var _=c==r?E:e.getLine(c),p=_.indexOf(S,c==r?A+b.length:0),W=m(r,A+1),q=m(c,p+1);if(p==-1||!/comment/.test(e.getTokenTypeAt(W))||!/comment/.test(e.getTokenTypeAt(q))||e.getRange(W,q,`
`).indexOf(S)>-1)return!1;var R=E.lastIndexOf(b,t.ch),T=R==-1?-1:E.slice(0,t.ch).indexOf(S,R+b.length);if(R!=-1&&T!=-1&&T+S.length!=t.ch)return!1;T=_.indexOf(S,l.ch);var z=_.slice(l.ch).lastIndexOf(b,T-l.ch);return R=T==-1||z==-1?-1:l.ch+z,T!=-1&&R!=-1&&R!=l.ch?!1:(e.operation(function(){e.replaceRange("",m(c,p-(f&&_.slice(p-f.length,p)==f?f.length:0)),m(c,p+S.length));var L=A+b.length;if(f&&E.slice(L,L+f.length)==f&&(L+=f.length),e.replaceRange("",m(r,A),m(r,L)),$)for(var x=r+1;x<=c;++x){var O=e.getLine(x),k=O.indexOf($);if(!(k==-1||d.test(O.slice(0,k)))){var M=k+$.length;f&&O.slice(M,M+f.length)==f&&(M+=f.length),e.replaceRange("",m(x,k),m(x,M))}}}),!0)})})})();var J=B.exports,K=H({__proto__:null,default:J},[B.exports]);exports.comment=K;
