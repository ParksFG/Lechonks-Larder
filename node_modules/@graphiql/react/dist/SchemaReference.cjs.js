"use strict";var m=Object.defineProperty;var t=(n,r)=>m(n,"name",{value:r,configurable:!0});var l=require("graphql"),u=require("./introspection.cjs.js"),o=require("./forEachState.cjs.js");function v(n,r){const e={schema:n,type:null,parentType:null,inputType:null,directiveDef:null,fieldDef:null,argDef:null,argDefs:null,objectFieldDefs:null};return o.forEachState(r,i=>{var c,p;switch(i.kind){case"Query":case"ShortQuery":e.type=n.getQueryType();break;case"Mutation":e.type=n.getMutationType();break;case"Subscription":e.type=n.getSubscriptionType();break;case"InlineFragment":case"FragmentDefinition":i.type&&(e.type=n.getType(i.type));break;case"Field":case"AliasedField":e.fieldDef=e.type&&i.name?D(n,e.parentType,i.name):null,e.type=(c=e.fieldDef)===null||c===void 0?void 0:c.type;break;case"SelectionSet":e.parentType=e.type?l.getNamedType(e.type):null;break;case"Directive":e.directiveDef=i.name?n.getDirective(i.name):null;break;case"Arguments":const d=i.prevState?i.prevState.kind==="Field"?e.fieldDef:i.prevState.kind==="Directive"?e.directiveDef:i.prevState.kind==="AliasedField"?i.prevState.name&&D(n,e.parentType,i.prevState.name):null:null;e.argDefs=d?d.args:null;break;case"Argument":if(e.argDef=null,e.argDefs){for(let a=0;a<e.argDefs.length;a++)if(e.argDefs[a].name===i.name){e.argDef=e.argDefs[a];break}}e.inputType=(p=e.argDef)===null||p===void 0?void 0:p.type;break;case"EnumValue":const g=e.inputType?l.getNamedType(e.inputType):null;e.enumValue=g instanceof l.GraphQLEnumType?b(g.getValues(),a=>a.value===i.name):null;break;case"ListValue":const y=e.inputType?l.getNullableType(e.inputType):null;e.inputType=y instanceof l.GraphQLList?y.ofType:null;break;case"ObjectValue":const T=e.inputType?l.getNamedType(e.inputType):null;e.objectFieldDefs=T instanceof l.GraphQLInputObjectType?T.getFields():null;break;case"ObjectField":const f=i.name&&e.objectFieldDefs?e.objectFieldDefs[i.name]:null;e.inputType=f==null?void 0:f.type;break;case"NamedType":e.type=i.name?n.getType(i.name):null;break}}),e}t(v,"getTypeInfo");function D(n,r,e){if(e===u.SchemaMetaFieldDef.name&&n.getQueryType()===r)return u.SchemaMetaFieldDef;if(e===u.TypeMetaFieldDef.name&&n.getQueryType()===r)return u.TypeMetaFieldDef;if(e===u.TypeNameMetaFieldDef.name&&l.isCompositeType(r))return u.TypeNameMetaFieldDef;if(r&&r.getFields)return r.getFields()[e]}t(D,"getFieldDef");function b(n,r){for(let e=0;e<n.length;e++)if(r(n[e]))return n[e]}t(b,"find");function F(n){return{kind:"Field",schema:n.schema,field:n.fieldDef,type:s(n.fieldDef)?null:n.parentType}}t(F,"getFieldReference");function k(n){return{kind:"Directive",schema:n.schema,directive:n.directiveDef}}t(k,"getDirectiveReference");function S(n){return n.directiveDef?{kind:"Argument",schema:n.schema,argument:n.argDef,directive:n.directiveDef}:{kind:"Argument",schema:n.schema,argument:n.argDef,field:n.fieldDef,type:s(n.fieldDef)?null:n.parentType}}t(S,"getArgumentReference");function h(n){return{kind:"EnumValue",value:n.enumValue||void 0,type:n.inputType?l.getNamedType(n.inputType):void 0}}t(h,"getEnumValueReference");function j(n,r){return{kind:"Type",schema:n.schema,type:r||n.type}}t(j,"getTypeReference");function s(n){return n.name.slice(0,2)==="__"}t(s,"isMetaField");exports.getArgumentReference=S;exports.getDirectiveReference=k;exports.getEnumValueReference=h;exports.getFieldReference=F;exports.getTypeInfo=v;exports.getTypeReference=j;
